
@{
    ViewBag.Title = "Index";
}
<style>
    @@media screen and (min-height: 480px) #map {
        width: 100%; height: 725px; background-color: grey;
    }
</style>

<div id="map"></div>
<script>
    function initMap() {
        var francePos = { lat: 47.303075, lng: 2.526855 };
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 6,
            center: francePos,
            mapTypeId: 'roadmap',
            mapTypeControl: false
        });

        $.get(
            "https://api.goflipr.com/v1.1/cities",
            function (data) {
                let cities = new Map();

                for (var i = 0; i < data.length; i++) {

                    let marker = new google.maps.Marker({
                        position: { lat: data[i].Latitude, lng: data[i].Longitude },
                        map: map,
                        title: data[i].Name
                    });

                    cities.set(data[i].Name, marker);
                }
            },
            "json"
        );
    }
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBWO4_t9fsEVJn9VV19BKXZPzq5LbpDXxk&callback=initMap"></script>

